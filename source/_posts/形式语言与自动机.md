---
title: 形式语言与自动机
date: 2023-12-28 11:22:09
tags:
katex: true
---
# 前言
- 形式语言理论：<font color="red">乔姆斯基发现文法</font>，用**文法产生语言**的每个句子。
- 自动机理论：<font color="red">克林建立了有穷状态自动机</font>,为识别语言的系统
- 文法与自动机是**等价**的
- 文法与自动机的运算对象：**集合**

<img src="..\img\FL&FA\5方转换图.png" width="70%" height="70%" align="middle">

# 文法
## 文法构造
- 例1
<img src="..\img\FL&FA\文法例1.png" width="40%" height="70%" align="middle">

- 例2
<img src="..\img\FL&FA\文法例2.png" width="70%" height="70%" align="middle">

- 例3
<img src="..\img\FL&FA\文法例3.png" width="70%" height="70%" align="middle">

- 例4
<img src="..\img\FL&FA\文法例4.png" width="70%" height="70%" align="middle">
<img src="..\img\FL&FA\文法例4_1.png" width="70%" height="70%" align="middle">

- 例5
<img src="..\img\FL&FA\文法例5.png" width="70%" height="70%" align="middle">

- 例6 
<img src="..\img\FL&FA\文法例6_1.png" width="70%" height="70%" align="middle">
<img src="..\img\FL&FA\文法例6_2.png" width="40%" height="70%" align="middle">

## 文法分类
- 标准
<img src="..\img\FL&FA\文法分类.png" width="70%" height="70%" align="middle">
<img src="..\img\FL&FA\文法分类定义.png" width="70%" height="70%" align="middle">

- 例子
<img src="..\img\FL&FA\文法分类例子.png" width="70%" height="70%" align="middle">

# 线性文法与FA的转换
## 右线性文法
### FA -> 文法
<img src="..\img\FL&FA\FA转右线性文法.png" width="70%" height="70%" align="middle">

### 文法 -> FA
<img src="..\img\FL&FA\右线性文法转FA.png" width="70%" height="70%" align="middle">

## 左线性文法
### FA -> 文法
- 先预处理
<img src="..\img\FL&FA\FA转左线性文法_预处理.png" width="70%" height="70%" align="middle">

- 规则：
<img src="..\img\FL&FA\FA转左线性文法_规则.png" width="70%" height="70%" align="middle">

- 例子
<img src="..\img\FL&FA\FA转左线性文法_例子.png" width="70%" height="70%" align="middle">

### 文法 -> FA
- 规则
<img src="..\img\FL&FA\左线性文法转FA_规则.png" width="70%" height="70%" align="middle">

- 例子
<img src="..\img\FL&FA\左线性文法转FA_例子.png" width="70%" height="70%" align="middle">

# DFA、NFA、ε-NFA转换
## ε-NFA -> NFA
### 前置知识
- $\epsilon-CLOSURE(q_0) = \{ p | 从q_0到p有一条标记为\epsilon 的路\}$ 
- ε-NFA 的 状态转移函数 
<img src="..\img\FL&FA\epsilonNFA的状态转移函数.png" width="70%" height="70%" align="middle">

### 转换过程
- 终止状态
    F 为 ε-NFA 的
    F2 为转化后NFA的
<img src="..\img\FL&FA\epsilonNFA转NFA_终止状态.png" width="70%" height="70%" align="middle">

- 转化后NFA的 转移函数
  - 为 去除 <font color='red'>ε列</font> 的 $\hat\delta$
### 例子
<img src="..\img\FL&FA\epsilonNFA转NFA_例子0.png" width="70%" height="70%" align="middle">
<img src="..\img\FL&FA\epsilonNFA转NFA_例子1.png" width="70%" height="70%" align="middle">

## NFA -> DFA
- 带 NFA 中 终止状态 的 状态簇 为 新DFA 的终止状态
- 例子
<img src="..\img\FL&FA\NFA转DFA_例子0.png" width="70%" height="70%" align="middle">
<img src="..\img\FL&FA\NFA转DFA_例子1.png" width="70%" height="70%" align="middle">
<img src="..\img\FL&FA\NFA转DFA_例子2.png" width="70%" height="70%" align="middle">

# FA 与 RE 的转化
## RE -> ε-NFA
- n = 0
<img src="..\img\FL&FA\RE转NFA_0.png" width="70%" height="70%" align="middle">
- n = k+1
<img src="..\img\FL&FA\RE转NFA_1.png" width="60%" height="70%" align="middle">
<img src="..\img\FL&FA\RE转NFA_2.png" width="60%" height="70%" align="middle">
<img src="..\img\FL&FA\RE转NFA_3.png" width="60%" height="70%" align="middle">

- 例子
<img src="..\img\FL&FA\RE转NFA_例子.png" width="60%" height="70%" align="middle">

## DFA -> RE
### 例子
<img src="..\img\FL&FA\DFA转RE_例子.png" width="60%" height="70%" align="middle">

- 预处理：
  - 用标记为X和Y的状态将M“括起来”：
  在状态转移图中增加标记为X和Y的状态, 从标记为X的状态到标记为q0的状态引一条标记为ε的弧；
  从标记为q(q∈F)的状态到标记为Y的状态分别引一条标记为ε的弧。
  - 去掉所有的不可达状态。
<img src="..\img\FL&FA\DFA转RE_预处理.png" width="70%" height="70%" align="middle">

- 去掉状态q3：
<img src="..\img\FL&FA\DFA转RE_例子0.png" width="70%" height="70%" align="middle">

- 去掉状态q4
<img src="..\img\FL&FA\DFA转RE_例子1.png" width="70%" height="70%" align="middle">

- 合并从标记为q2的状态到标记为Y的状态的两条并行弧。
<img src="..\img\FL&FA\DFA转RE_例子2.png" width="70%" height="70%" align="middle">

- 去掉状态q0
<img src="..\img\FL&FA\DFA转RE_例子3.png" width="70%" height="70%" align="middle">

- 并弧
<img src="..\img\FL&FA\DFA转RE_例子4.png" width="70%" height="70%" align="middle">

- 去掉状态q1
<img src="..\img\FL&FA\DFA转RE_例子5.png" width="70%" height="70%" align="middle">

- 去掉状态q2
<img src="..\img\FL&FA\DFA转RE_例子6.png" width="70%" height="70%" align="middle">

### 注意事项
- 不计算自身到自身的弧,如果状态q的入度为n,出度为m,则将状态q及其相关的弧去掉之后,需要添加n*m条新弧。

# 泵引理 与 极小化 
## 泵引理
### 定理
<img src="..\img\FL&FA\泵引理_定理.png" width="70%" height="70%" align="middle">

### 应用
- 例1
<img src="..\img\FL&FA\泵引理_例1.png" width="70%" height="70%" align="middle">

- 例2
<img src="..\img\FL&FA\泵引理_例2.png" width="70%" height="70%" align="middle">

- 例3
<img src="..\img\FL&FA\泵引理_例3.png" width="70%" height="70%" align="middle">

- 例4
<img src="..\img\FL&FA\泵引理_例4.png" width="70%" height="70%" align="middle">

## 封闭性
### 定义
<font color='red'>交、并、补、连接、闭包、反转、同态、逆同态 运算都具有封闭性</font>

- 补运算的封闭性 
    如果 $L$ 是 $\Sigma$ 上的RE, 那么 $\overline{L} = \Sigma^{*} - L$ 也是 正则的。

- 交运算的封闭性 
    如果 $L$ 和 $M$ 是 RE, 那么 $L\cap M$ 也是 正则的。

- 同态 的定义
<img src="..\img\FL&FA\同态的定义.png" width="70%" height="70%" align="middle">

- 逆同态 的定义
<img src="..\img\FL&FA\逆同态的定义.png" width="70%" height="70%" align="middle">

### 例子
- 例1
<img src="..\img\FL&FA\封闭性_例1.png" width="70%" height="70%" align="middle">

- 例2
<img src="..\img\FL&FA\封闭性_例2.png" width="70%" height="70%" align="middle">

- 例3
<img src="..\img\FL&FA\封闭性_例3.png" width="70%" height="70%" align="middle">

## Rm和Rl
### 关系RM
- 设DFA M，M所确定的$Σ^*$上的关系 $R_M$ 定义为：
对于 $∀x,y∈Σ*$
    - $x R_M y ⇔ δ(q0,x)=δ(q0,y)$
    - 也就是说： $x R_M y ⇔ ∃q∈Q，x,y∈set(q)$。
    - 或者说：<font color='red'>M从$q_0$开始读入x和y以后进入同一个状态。</font>

### 关系RL：
- 设$L ⊆ Σ*$，L确定的Σ*上的关系 $R_L$ 定义为：
对于 $∀x,y∈Σ*$
<font color='red'>$x R_L y ⇔ (∀z∈Σ^*，xz∈L ⇔ yz∈L)$</font>

### 二者关系
- 如果$x R_M y$，则 <font color='red'>一定有</font> $x R_{L(M)} y$
- 如果$x R_{L(M)} y$，则 <font color='red'>不一定有</font> $x R_M y$

### 例子
<img src="..\img\FL&FA\RM和RL例子.png" width="70%" height="70%" align="middle">

## 极小化
### 定义
最小状态DFA的含义:
- 没有多余状态(死状态)
  - 如何消除多余状态？删除即可。
<img src="..\img\FL&FA\极小化_定义.png" width="70%" height="70%" align="middle">

- 没有两个状态是互相等价（不可区别）
  - 兼容性（一致性）条件——同是终态或同是非终态
  - 传播性（蔓延性）条件——对于所有输入符号，状态s和状态t必须转换到等价的状态里。
### 例子：
**最小化下图所示的DFA**
<img src="..\img\FL&FA\极小化_例1.png" width="60%" height="70%" align="middle">

1. 分成终态和非终态：
  - 将Ｍ的状态分为两个子集一个由终态 k1=｛Ｃ，Ｄ，Ｅ，Ｆ｝组成，一个由非终态 k2=｛Ｓ，Ａ，Ｂ｝组成。
2. 考察｛Ｓ，Ａ，Ｂ｝是否可分。
    <img src="..\img\FL&FA\极小化_例2.png" width="20%" height="10%" align="middle">
  因为Ａ经过a到达C属于k1.而S经过a到达A属于k2。B经过a到达A属于k2，所以K2继续划分为{S，B}，{A}。

3. 考察｛Ｓ，Ｂ｝是否可再分：
  B经过b到达D属于k1。S经过b到达B属于k2，所以S，B可以划分。划分为{S},{B}
4. 考察｛Ｃ，Ｄ，Ｅ，Ｆ｝是否可再分：
  因为Ｃ，Ｄ，Ｅ，Ｆ经过 a和b 到达的状态都属于｛Ｃ，Ｄ，Ｅ，Ｆ｝=k1 所以相同，所以不可再分。
5. ｛Ｃ，Ｄ，Ｅ，Ｆ｝以｛Ｄ｝来代替则，因为CDEF相同，你也可以用C来代替。无所谓的最小化的DFA如图：
<img src="..\img\FL&FA\极小化_例3.png" width="50%" height="70%" align="middle">

# RE运算
## 定义
正则表达式(regular expression,RE)
1. $\Phi$ 是 $\Sigma$上的RE,它表示语言 $\Phi$；
2. $\epsilon$ 是∑上的RE,它表示语言$\{\epsilon\}$；
3. 对于$\forall{a}\in \Sigma$, ${a}$是$\Sigma$上的RE,它表示语言$\{a\}$；
4. 如果r和s分别是∑上表示语言R和S的RE,则：
    - r与s的“和” (r+s)是$\Sigma$上的RE,(r+s)表达的语言为R∪S；
    - r与s的“乘积” (rs)是$\Sigma$上的RE,(rs)表达的语言为RS；
    - r的克林闭包(r*)是$\Sigma$上的RE,(r*)表达的语言为R*。
5. 只有满足1、2、3、4的才是$\Sigma$上的RE。

## 表示
- 0,表示语言{0}
- 1,表示语言{1}
- (0+1),表示语言{0,1}
- (01),表示语言{01}
- ((0+1)\*),表示语言{0,1}\*

## 运算
- 结合律：
    $(rs)t=r(st)$
	$(r+s)+t=r+(s+t)$
- 分配律：
    $r(s+t)=rs+rt$
    $(s+t)r=sr+tr$
- 交换律：	
    $r+s=s+r$
- 幂等律：	
    $r+r=r$
- 加法运算零元素：
    $r+Φ=r$
- 乘法运算单位元：
    $rε=εr=r$
- 乘法运算零元素：
    $rΦ=Φr=Φ$
- $L(Φ)=Φ$
- $L(ε)=\{ε\}$
- $L(a)=\{a\}$
- $L(rs)=L(r)L(s)$
- $L(r+s)=L(r)∪L(s)$
- $L(r*)=(L(r))^* $
- $L(Φ^*)=\{ε\}$
- $L((r+ε)^*)=L(r^*)$
- $L((r^*)^*)=L(r^*)$
- $L((r^*s^*)^*)=L((r+s)^*)$
- 如果$L(r) \subseteq L(s),则r+s=s$
- $L(rn)=(L(r))^n $
- $r^n r^m=r^{n+m}$
    一般地, $r+ε≠r,(rs)^n ≠r^ns^n,rs≠sr$
- 幂 
    $r^0=ε$
    $r^n=r^{n-1}r$
